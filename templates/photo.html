{% include "base.html"%}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <title>Document</title>
<style>
  
.contain, .flex {
     box-sizing: border-box;
     
 }
.contain {
    
    margin: auto;
    text-align: center;
}
.flex {
    float: left;
    margin: 30px;
    width: 25%;
    padding: 5px;
}
    
</style>    
</head>
<body>
    
    {% block content %}
        <form method='post' enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Upload</button>
        </form>
        <hr/>
    
        <div class="contain">
        {% for photo in photo %}
        
        <div class="flex">
            <div class="card" style="width: 18rem;">
                {% if photo.image %}
                    <a href="/photo/{{ photo.id}}/">
                    <img class="photo" src="{{ photo.image.url }}" height='250px' width="250px">
                    </a>
                    <br/>
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{photo.poster.username}}</h5>
                    <p class="card-text">{{photo.caption}}</p>
                    <a href="/photolikes/{{ photo.id }}/" class="btn btn-primary"><i class="bi bi-hand-thumbs-up-fill">{{photo.button}}</i></a>
                </div>
                {% for person in photo.likes.all%}
                    <p>{{person.username}}</p>
                {%endfor%}
                {{photo.total_likes}}
            </div>
            </div>
            {%endfor%}
        </div>
    {%endblock content%}
</body>
</html>
